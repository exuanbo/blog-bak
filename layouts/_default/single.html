{{ define "header" }}
  {{ partial "header.html" . }}
{{ end }}

{{ define "main" }}
  <main>
    <h1>{{ .Title }}</h1>
    {{ if (gt .Params.date 0) }}
      <div class="article-date">{{ .Date.Format "2006 Jan 02" }}</div>
    {{ end }}
    {{ if eq .File.Dir "trans/" }}
      <div class="orig">
        <i>本文为翻译，版权归原文作者所有</i><br>
        <br>
        标题 (Title)：{{ .Params.sourceTitle }}<br>
        作者 (Author)：{{ .Params.author }} (<a href="{{ .Params.authorLink }}">@{{ .Params.author }}</a>)<br>
        日期 (Date)：{{ .Params.sourceDate }}<br>
        链接 (Link)：<a href="{{ .Params.sourceLink }}">{{ .Params.sourceLink }}</a>
      </div>
    {{ else }}
      <div class="orig">本文链接：<a href="https://exuanbo.xyz{{ .RelPermalink }}">https://exuanbo.xyz{{ .RelPermalink }}</a></div>
    {{ end }}
    {{ .Content }}
    <div class="article-meta">
      <div class="list">
        {{ with .Params.tags }}
          Tags: {{ range . }}<a href="{{ "tags/" | relURL }}{{ . | urlize }}/">#{{.}}</a>{{ end }}
        {{ end }}
      </div>
      <div>
        License: <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a>
      </div>
    </div>
    <nav class="post-nav">
      {{ $articles := where .Site.RegularPages "Section" "!=" "" }}
      {{ with $articles.Next . }}
        <div class="next"><a href="{{ .RelPermalink }}"><i class="arrow-left"></i> {{ .Title }}</a></div>
      {{ end }}
      {{ with $articles.Prev . }}
        <div class="prev"><a href="{{ .RelPermalink }}">{{ .Title }} <i class="arrow-right"></i></a></div>
      {{ end }}
    </nav>
  </main>
{{ end }}